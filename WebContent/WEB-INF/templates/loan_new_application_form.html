<!DOCTYPE html>
<html>
<head>
  <title>Loan Application Form</title>
  <style>
    body {
      font-family: Arial, sans-serif;
    }

    form {
      width: 80%;
      margin: 0 auto;
    }

    label {
      display: block;
      margin-top: 10px;
    }

    input[type="text"],
    input[type="date"],
    input[type="file"],
    textarea {
      width: 100%;
      padding: 8px;
      border: 1px solid #ccc;
      border-radius: 4px;
      box-sizing: border-box;
      margin-top: 5px;
    }

    textarea {
      height: 80px;
    }

    input[type="submit"] {
      background-color: #4CAF50;
      color: white;
      padding: 10px 20px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      margin-top: 10px;
    }
.hidden {
      display: none;
    }
    input[type="submit"]:hover {
      background-color: #45a049;
    }
  </style>
</head>
<body>
    <from id="first-form">
    <label for="cust_id">Customer ID:</label>
    <input type="text" id="cust_id" name="cust_id" required>

    <label for="apdate">Application Date:</label>
    <input type="date" id="apdate" name="apdate" required>

    <label for="lnty_id">Loan Type ID:</label>
    <input type="text" id="lnty_id" name="lnty_id" required>

    <label for="amount">Loan Amount:</label>
    <input type="text" id="amount" name="amount" required>

    <label for="emilimitfrom">EMI Limit From:</label>
    <input type="text" id="emilimitfrom" name="emilimitfrom" required>

    <label for="emilimitto">EMI Limit To:</label>
    <input type="text" id="emilimitto" name="emilimitto" required>

    <label for="tenure_requested">Tenure Requested:</label>
    <input type="text" id="tenure_requested" name="tenure_requested" required>

    <label for="nominee">Nominee:</label>
    <input type="text" id="nominee" name="nominee" required>

    <label for="createdby">Created By:</label>
    <input type="text" id="createdby" name="createdby" required>

    <label for="createddate">Created Date:</label>
    <input type="date" id="createddate" name="createddate" required>

    <label for="processedby">Processed By:</label>
    <input type="text" id="processedby" name="processedby" required>

    <label for="processdate">Process Date:</label>
    <input type="date" id="processdate" name="processdate" required>

    <label for="processedstatus">Processed Status:</label>
    <input type="text" id="processedstatus" name="processedstatus" required>

    <label for="luudate">Last Updated Date:</label>
    <input type="date" id="luudate" name="luudate" required>

    <label for="luuser">Last Updated User:</label>
    <input type="text" id="luuser" name="luuser" required>

    <label for="status">Status:</label>
    <input type="text" id="status" name="status" required>

    <label for="remarks">Remarks:</label>
    <textarea id="remarks" name="remarks" rows="4" required></textarea>
    <label for="attachment">Attachment:</label>
    <input type="file" id="attachment" name="attachment" >
 

    <button type="button" onclick="submit()">submit</button>
    </from>
      <form id="second-form" class="hidden">
    <!-- Second form fields here -->
    <table>
      <tr>
        <td>Customer ID:</td>
        <td><input type="number" id="cust_id" name="cust_id" readonly></td>
      </tr>
      <tr>
        <td>Customer Title:</td>
        <td><input type="text" id="cust_title" name="cust_title"></td>
      </tr>
      <tr>
        <td>Customer Type:</td>
        <td><input type="text" id="cust_type" name="cust_type"></td>
      </tr>
      <tr>
        <td>Customer Current Address:</td>
        <td><input type="text" id="cust_caddress" name="cust_caddress"></td>
      </tr>
      <tr>
        <td>Customer Current PIN Code:</td>
        <td><input type="text" id="cust_capincode" name="cust_capincode"></td>
      </tr>
      <tr>
        <td>Customer Date of Birth:</td>
        <td><input type="date" id="cust_dob" name="cust_dob"></td>
      </tr>
      <tr>
        <td>Customer Mobile 1:</td>
        <td><input type="text" id="cust_mobile1" name="cust_mobile1"></td>
      </tr>
      <tr>
        <td>Customer Mobile 2:</td>
        <td><input type="text" id="cust_mobile2" name="cust_mobile2"></td>
      </tr>
      <tr>
        <td>Customer Residence Phone:</td>
        <td><input type="text" id="cust_rphone" name="cust_rphone"></td>
      </tr>
      <tr>
        <td>Customer Residence Address:</td>
        <td><input type="text" id="cust_raddress" name="cust_raddress"></td>
      </tr>
      
    </table>
    <button type="button" onclick="submitBothForms()">Submit</button>
    <button type="button" onclick="showFirstForm()">Previous</button>
  </form>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js" ></script>
  <script>
  function submit() {
	  document.getElementById("first-form").classList.add("hidden");
      document.getElementById("second-form").classList.remove("hidden");
	  var customerId = document.getElementById("cust_id").value;
      var applicationDate = document.getElementById("apdate").value;
      var loanTypeId = document.getElementById("lnty_id").value;
      var loanAmount = document.getElementById("amount").value;
      var emiLimitFrom = document.getElementById("emilimitfrom").value;
      var emiLimitTo = document.getElementById("emilimitto").value;
      var tenureRequested = document.getElementById("tenure_requested").value;
      var nominee = document.getElementById("nominee").value;
      var createdBy = document.getElementById("createdby").value;
      var createdDate = document.getElementById("createddate").value;
      var processedBy = document.getElementById("processedby").value;
      var processDate = document.getElementById("processdate").value;
      var processedStatus = document.getElementById("processedstatus").value;
      var lastUpdatedDate = document.getElementById("luudate").value;
      var lastUpdatedUser = document.getElementById("luuser").value;
      var status = document.getElementById("status").value;
      var remarks = document.getElementById("remarks").value;
      var Attachment=document.getElementById("attachment").value;
	 
      console.log(Attachment);
	  $.ajax({
	    url: 'New_loan_Application',
	    type: 'post',
	    data: {
	    	  CustId: customerId,
	          ApplicationDate: applicationDate,
	          LoanTypeId: loanTypeId,
	          Amount: loanAmount,
	          EmiLimitFrom: emiLimitFrom,
	          EmiLimitTo: emiLimitTo,
	          TenureRequested: tenureRequested,
	          nominee: nominee,
	          CreatedBy: createdBy,
	          CreatedDate: createdDate,
	          ProcessedBy: processedBy,
	          ProcessDate: processDate,
	          ProcessedStatus: processedStatus,
	          LastUpdatedDate: lastUpdatedDate,
	          LastUpdatedUser: lastUpdatedUser,
	          status: status,
	          remarks: remarks,
	          Attachment:Attachment
	        },
	    success: function(resultText) {
	    	console.log('First form submitted successfully');
	    },
	    error: function(jqXHR, exception) {
	      console.log('Error occurred!');
	    }
	  });
	}
  function showFirstForm() {
      document.getElementById("second-form").classList.add("hidden");
      document.getElementById("first-form").classList.remove("hidden");
    }

    function submitBothForms() {
    

    	 var custId = document.getElementById("cust_id").value;
    	  var custTitle = document.getElementById("cust_title").value;
    	  var custType = document.getElementById("cust_type").value;
    	  var custCAddress = document.getElementById("cust_caddress").value;
    	  var custCAPincode = document.getElementById("cust_capincode").value;
    	  var custDOB = document.getElementById("cust_dob").value;
    	  var custMobile1 = document.getElementById("cust_mobile1").value;
    	  var custMobile2 = document.getElementById("cust_mobile2").value;
    	  var custRPhone = document.getElementById("cust_rphone").value;
    	  var custRAddress = document.getElementById("cust_raddress").value;

    	 

    	

    	  // Make AJAX call to save the form data
    	  $.ajax({
    	    url: "customer_data_trail_save",
    	    type: "POST",
    	    data: {    	    custId: custId,
    	    custTitle: custTitle,
    	    custType: custType,
    	    custCAddress: custCAddress,
    	    custCAPincode: custCAPincode,
    	    custDOB: custDOB,
    	    custMobile1: custMobile1,
    	    custMobile2: custMobile2,
    	    custRPhone: custRPhone,
    	    custRAddress: custRAddress},
    	    success: function(response) {
    	      // Handle success response
    	      console.log("Form data saved successfully");
    	    },
    	    error: function(xhr, status, error) {
    	      // Handle error response
    	      console.log("Error occurred while saving form data");
    	    }
    	  });
    }
  </script>
</body>
</html>